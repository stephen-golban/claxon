---
description: 
globs: 
alwaysApply: true
---
# ðŸ“‚ Claxon App Structure Guide

## Expo Router File-Based Routing

### Route Groups
- **`(protected)/`**: Authenticated user routes requiring login
- **`(unprotected)/`**: Public routes for onboarding and authentication

### Main App Structure
```
app/
â”œâ”€â”€ _layout.tsx                 # Root layout with providers
â”œâ”€â”€ (protected)/
â”‚   â”œâ”€â”€ _layout.tsx            # Protected layout with auth guards
â”‚   â”œâ”€â”€ index.tsx              # Welcome screen after auth
â”‚   â”œâ”€â”€ personal-details.tsx   # Post-auth profile setup
â”‚   â””â”€â”€ tabs/                  # Tab navigation
â”‚       â”œâ”€â”€ _layout.tsx        # Tab bar layout
â”‚       â”œâ”€â”€ index.tsx          # Search tab (main functionality)
â”‚       â”œâ”€â”€ inbox.tsx          # Messages/notifications tab
â”‚       â”œâ”€â”€ my-cars.tsx        # Vehicle management tab
â”‚       â””â”€â”€ account.tsx        # Profile & settings tab
â””â”€â”€ (unprotected)/
    â”œâ”€â”€ _layout.tsx            # Unprotected layout
    â”œâ”€â”€ index.tsx              # Onboarding slides
    â”œâ”€â”€ get-started.tsx        # Phone number input
    â””â”€â”€ verify.tsx             # OTP verification
```

## Component Organization

### UI Components ([src/components/ui/](mdc:src/components/ui))
- Base UI components (Button, Input, Card, etc.)
- Styled with NativeWind/Tailwind CSS

### Form Elements ([src/components/form-elements/](mdc:src/components/form-elements))
- Specialized form components with validation
- License plate picker, phone input, avatar selector
- All use React Hook Form integration

### Common Components ([src/components/common/](mdc:src/components/common))
- Reusable app-specific components
- Headers, containers, loading states, tab bar

### Icons ([src/components/icons/](mdc:src/components/icons))
- SVG icons and flag components
- Country flags for license plates

## Screen Components

### Protected Screens ([src/screens/protected/](mdc:src/screens/protected))
- Corresponds to protected routes in `app/(protected)/`
- Each screen has its own folder with components, forms, and hooks

### Unprotected Screens ([src/screens/unprotected/](mdc:src/screens/unprotected))
- Onboarding and authentication screens
- Welcome flow, phone verification, terms acceptance

## Key Patterns
- Each screen folder contains: `index.tsx`, `schema.ts` (validation), `hook.ts` (logic)
- Form components are separated into base components and controller wrappers
- Consistent use of TypeScript for type safety
- Modular component structure for reusability
